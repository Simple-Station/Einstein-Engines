- type: entity
  id: WallmountFireHydrant
  name: fire hydrant
  description: A wall mounted hydrant for putting out large fires.
  placement:
    mode: SnapgridCenter
  components:
    - type: WallMount
      arc: 360
    - type: Transform
      anchored: true
    - type: Clickable
    - type: InteractionOutline
    - type: Sprite
      sprite: Structures/Wallmounts/hydrant.rsi
      snapCardinals: true
      drawdepth: Overdoors
      layers:
      - state: frame
      - state: closed
        map: ["enum.ItemCabinetVisualLayers.Door"]
      - state: closed # :TODO: Add this state
        map: ["enum.ItemCabinetVisualLayers.ContainsItem"]
        visible: true
    - type: ItemCabinet
      cabinetSlot:
        ejectOnInteract: true
      doorSound:
        path: /Audio/Machines/machine_switch.ogg
      openState: open
      closedState: closed
    - type: Appearance
    - type: ItemSlots
    - type: ContainerContainer
      containers:
        ItemCabinet: !type:ContainerSlot
    - type: Damageable
      damageContainer: Inorganic
      damageModifierSet: Metallic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 80
          behaviors:
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
        - trigger:
            !type:DamageTrigger
            damage: 40
          behaviors:
            - !type:EmptyAllContainersBehaviour
            - !type:DoActsBehavior
              acts: [ "Destruction" ]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalBreak

- type: entity
  id: WallmountFireHydrantOpen
  parent: WallmountFireHydrant
  suffix: Open
  components:
  - type: ItemCabinet
    opened: true
    doorSound:
      path: /Audio/Machines/machine_switch.ogg
    openState: open
    closedState: closed

- type: entity
  parent: WallmountFireHydrant
  id: WallmountFireHydrantOld
  components:
    - type: Sprite
      sprite: Structures/Wallmounts/hydrantold.rsi
      snapCardinals: true
      layers:
      - state: frame
      - state: closed
        map: ["enum.ItemCabinetVisualLayers.Door"]
      - state: closed # :TODO: Add this state
        map: ["enum.ItemCabinetVisualLayers.ContainsItem"]
        visible: true

- type: entity
  parent: WallmountFireHydrantOld
  id: WallmountFireHydrantOldOpen
  suffix: Open
  components:
  - type: ItemCabinet
    opened: true
    doorSound:
      path: /Audio/Machines/machine_switch.ogg
    openState: open
    closedState: closed
