- type: entity
  parent: CrateGenericSteel
  id: CrateFootlocker
  name: footlocker
  description: A footlocker for someones equipment.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/footlocker.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/footlocker.rsi
  - type: Reflect
    reflects:
    - Energy
    reflectProb: 0.2
    spread: 90

- type: entity
  parent: [ CrateFootlocker, BaseSmallLockerStorageFill ]
  id: LootCrateFootlocker
  suffix: Loot, RandomSmall

- type: entity
  parent: CrateGenericSteel
  id: CrateAluminium
  name: aluminium crate
  description: An aluminium crate for storing stuff.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/aluminiumcrate.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/aluminiumcrate.rsi

- type: entity
  parent: [ CrateFootlocker, BaseLockerStorageFill ]
  id: LootCrateAluminium
  suffix: Loot, Random

- type: entity
  parent: CrateGenericSteel
  id: CrateArmy
  name: army crate
  description: A crate with a US Army star on.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/armycrate.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/armycrate.rsi

- type: entity
  parent: [ CrateFootlocker, BaseMilitaryStorageFill ]
  id: LootCrateArmy
  suffix: Loot, RandomMilitary

- type: entity
  parent: CrateFootlocker
  id: CrateEnclave
  name: metal crate
  description: An advanced looking crate. Might have high tech stuff in.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/crateenclave.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/crateenclave.rsi
    # TODO: Will need an access locked variant.

- type: entity
  parent: [ CrateEnclave, BaseMilitaryStorageFill ]
  id: LootCrateEnclave
  suffix: Loot, RandomMilitary

- type: entity
  parent: CrateFootlocker
  id: CrateEnclaveDirectional
  suffix: directional
  name: metal crate
  description: An advanced looking crate. Might have high tech stuff in.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/enclavecrate.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/enclavecrate.rsi

- type: entity
  parent: [ CrateEnclaveDirectional, BaseMilitaryStorageFill ]
  id: LootCrateEnclaveDirectional
  suffix: Loot, RandomMilitary

- type: entity
  parent: CrateGenericSteel
  id: CrateMedical
  name: medical crate
  description: A metal crate for storing medical equipment.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/medicalcrate.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/medicalcrate.rsi

- type: entity
  parent: [ CrateMedical, StorageFillMedical ]
  id: LootCrateMedical
  suffix: Loot, Medical

- type: entity
  parent: [ CrateMedical, TimedStorageFillMedical ]
  id: CrateMedicalRefilling
  suffix: Refilling, Medical

- type: entity
  parent: CrateGenericSteel
  id: CrateRed
  name: red crate
  description: A faded red crate for storing stuff.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/redcrate.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/redcrate.rsi

- type: entity
  parent: CrateGenericSteel
  id: CrateVaultBig
  name: vault-tec crate
  description: A big crate with a Vault-Tec logo on it.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/vaultbig.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/vaultbig.rsi

- type: entity
  parent: CrateGenericSteel
  id: CrateVaultBigRusted
  name: vault-tec crate
  description: A rusty big crate with a Vault-Tec logo on it.
  suffix: rusted
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/vaultbigrusted.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/vaultbigrusted.rsi

- type: entity
  parent: [ CrateVaultBigRusted, BaseLockerStorageFill ]
  id: LootCrateVaultBigRusted
  suffix: Loot, Random

- type: entity
  parent: CrateGenericSteel
  id: CrateVaultCompactRusted
  name: vault-tec crate
  description: A rusty compact crate with a Vault-Tec logo on it.
  suffix: rusted
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/vaultcompactrusted.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/vaultcompactrusted.rsi

- type: entity
  parent: [ CrateVaultCompactRusted, BaseLockerStorageFill ]
  id: LootCrateVaultCompactRusted
  suffix: Loot, Random

- type: entity
  parent: CrateGenericSteel
  id: CrateVault
  name: vault-tec crate
  description: A big crate with a Vault-Tec logo on it.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/vaultcrate.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/vaultcrate.rsi

- type: entity
  parent: [ CrateVault, BaseLockerStorageFill ]
  id: LootCrateVault
  suffix: Loot, Random

- type: entity
  parent: CrateGenericSteel
  id: CrateVaultLong
  name: vault-tec crate
  description: A long crate with a Vault-Tec logo on it.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/vaultlong.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/vaultlong.rsi

- type: entity
  parent: [ CrateVaultLong, BaseLockerStorageFill ]
  id: LootCrateVaultLong
  suffix: Loot, Random

- type: entity
  parent: CrateGenericSteel
  id: CrateVaultLongRusted
  name: vault-tec crate
  description: A rusty long crate with a Vault-Tec logo on it.
  suffix: rusted
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/vaultlongrusted.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/vaultlongrusted.rsi

- type: entity
  parent: [ CrateVaultLongRusted, BaseLockerStorageFill ]
  id: LootCrateVaultLongRusted
  suffix: Loot, Random

- type: entity
  parent: CrateGenericSteel
  id: CrateVaultStandard
  name: vault-tec crate
  description: A standard crate with a Vault-Tec logo on it.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/vaultstandard.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/vaultstandard.rsi

- type: entity
  parent: [ CrateVaultStandard, BaseLockerStorageFill ]
  id: LootCrateVaultStandard
  suffix: Loot, Random

- type: entity
  parent: CrateGeneric
  id: Trashbin
  name: trash bin
  description: A trash bin for putting rubbish in.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/trashbin.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/trashbin.rsi
    layers:
    - state: base
      map: ["enum.StorageVisualLayers.Base"]
    - state: closed
      map: ["enum.StorageVisualLayers.Door"]

- type: entity
  parent: CrateFootlocker
  id: CrateTrashcart
  name: trash cart
  description: A trash cart for transporting waste.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/trashcart.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/trashcart.rsi
  - type: TileFrictionModifier
    modifier: 0.4

- type: entity
  parent: CrateGeneric
  id: CrateFreezer
  name: freezer
  description: A freezer for keeping things cool.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/freezer.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/freezer.rsi
    layers:
    - state: base
      map: ["enum.StorageVisualLayers.Base"]
    - state: closed
      map: ["enum.StorageVisualLayers.Door"]
  - type: AntiRottingContainer

- type: entity
  parent: [ CrateFreezer, StorageFillDomestic ]
  id: LootCrateFreezer
  suffix: Loot, Random

# Wooden
- type: entity
  parent: CrateGeneric
  id: CrateWooden
  name: wooden crate
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/cratewooden.rsi
    state: icon
  - type: Sprite
    sprite: Structures/Storage/Crates/cratewooden.rsi
    layers:
    - state: base
      map: ["enum.StorageVisualLayers.Base"]
    - state: closed
      map: ["enum.StorageVisualLayers.Door"]
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.4,-0.4,0.4,0.29"
        density: 50
        mask:
        - SmallMobMask #this is so they can go under plastic flaps
        layer:
        - MachineLayer

- type: entity
  parent: [ CrateWooden, WastelandBotanyStorageTimedFill ]
  id: CrateWastelandBotanyRefilling
  suffix: Refilling, Random Botany

- type: entity
  parent: [ CrateWooden, WastelandBotanyStorageFill ]
  id: LootCrateWastelandBotany
  suffix: Loot, Random Botany

- type: entity
  parent: CrateWooden
  id: CrateMilitary
  name: military crate
  description: An old wooden crate. Looks like it might have some supplies in.
  components:
  - type: Icon
    sprite: Structures/Storage/Crates/cratemilitary.rsi
  - type: Sprite
    sprite: Structures/Storage/Crates/cratemilitary.rsi

- type: entity
  parent: [ CrateMilitary, BaseMilitaryTimedStorageFill ]
  id: CrateMilitaryRefilling
  suffix: Refilling, Random Military

- type: entity
  parent: [ CrateMilitary, BaseMilitaryStorageFill ]
  id: LootCrateMilitary
  suffix: Loot,Random Military

# Breakable Crates (deconstruct or destroy)
- type: entity
  parent: BaseStructureDynamic
  id: CrateBreakBase
  name: wooden crate
  description: A wooden crate for storage.
  abstract: true
  components:
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Wood
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 75
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          collection: WoodDestroy
      - !type:SpawnEntitiesBehavior
        spawn:
          MaterialWoodPlank:
            min: 0
            max: 1
      - !type:EmptyAllContainersBehaviour
  - type: Sprite
    sprite: Structures/Storage/Crates/woodencrates.rsi
  - type: Storage
    grid:
    - 0,0,6,3
    maxItemSize: Huge
  - type: UserInterface
    interfaces:
    - key: enum.StorageUiKey.Key
      type: StorageBoundUserInterface
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: []

- type: entity
  parent: CrateBreakBase
  id: CrateBreakWood
  suffix: wood
  components:
  - type: Sprite
    state: wood_crate

- type: entity
  parent: CrateBreakBase
  id: CrateBreakPlain
  suffix: plain
  components:
  - type: Sprite
    state: plain_crate

- type: entity
  parent: CrateBreakBase
  id: CrateBreakPlainDamaged
  suffix: plain damaged
  components:
  - type: Sprite
    state: plain_crate-1 # TODO: Make this random between states -1, -2 and -3

- type: entity
  parent: CrateBreakBase
  id: CrateBreakSarsaparilla
  name: sunset sarsaparilla crate
  components:
  - type: Sprite
    state: sarsaparilla_crate

- type: entity
  parent: CrateBreakSarsaparilla
  id: CrateBreakSarsaparillaDamaged
  suffix: damaged
  components:
  - type: Sprite
    state: sarsaparilla_crate-1

- type: entity
  parent: CrateBreakBase
  id: CrateBreakArmy
  name: army crate
  components:
  - type: Sprite
    state: army_crate

- type: entity
  parent: CrateBreakArmy
  id: CrateBreakArmyDamaged
  suffix: damaged
  components:
  - type: Sprite
    state: army_crate-1 # TODO: Make this random between states -1 and -2
