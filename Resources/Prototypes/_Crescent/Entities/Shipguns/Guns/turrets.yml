 # PDT TURRETS

- type: entity
  parent: BaseTurretShipgun
  id: WeaponTurretPDT
  suffix: ShipGun
  name: SHI MG-213 light dual machinegun 20x135mm
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/lightautoturret.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: WeaponTurretPDTCircuitboard
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 145
      fireRate: 5
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/gun_sentry.ogg
    - type: BasicEntityAmmoProvider
      proto: PDTBullet
      capacity: 300
      count: 300
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 5
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: ApcPowerReceiver
      powerLoad: 1000
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Small
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: WeaponTurretPDT
  id: WeaponTurretPDTAdvanced
  suffix: ShipGun, Tier 2
  name: SHI MG-213 light dual machinegun 20x135mm Mk. II
  components:
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 145
      fireRate: 5.5
    - type: Machine
      board: WeaponTurretPDTAdvancedCircuitboard

# VULCAN TURRET

- type: entity
  parent: BaseTurretShipgun
  id: WeaponTurretVulcan
  suffix: ShipGun
  name: 20mm PTA "Operator" gatling turret
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/vulcangatling.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: WeaponTurretVulcanCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 800
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: Gun
      fireOnDropChance: 0
      fireRate: 12
      projectileSpeed: 135
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/vulcan.ogg
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          #startingItem: MagazineVulcan - on being rebuilt from destruction this gives it free ammo
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - VulcanCartridgeBox
        gun_chamber:
          name: Chamber
          startingItem: CartridgeVulcanStandard
          priority: 1
          whitelist:
            tags:
              - VulcanCartridgeBox
    - type: ApcPowerReceiver
      powerLoad: 2500
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Small
    - type: MagazineAmmoProvider
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: WeaponTurretVulcan
  id: WeaponTurretVulcanFilled
  suffix: ShipGun, Filled
  components:
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineVulcan
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - VulcanCartridgeBox
        gun_chamber:
          name: Chamber
          startingItem: CartridgeVulcanStandard
          priority: 1
          whitelist:
            tags:
              - VulcanCartridgeBox

# SWARMER TURRET

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretSwarmer
  suffix: ShipGun
  name: TFSC 'Swarmer' self-replicating missile pod
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/swarmermissile.rsi
      drawdepth: Mobs
      layers:
        - state: swarmer
    - type: Machine
      board: BaseWeaponTurretSwarmerCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    # - type: ContainerContainer
    #   containers:
    #     ballistic-ammo: !type:Container
    #       ents: []
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 75
      fireRate: 6 #balanced by long cooldown
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 10
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: SwarmerMissile
      capacity: 6
      count: 6
    - type: ApcPowerReceiver
      powerLoad: 3500
    - type: HardpointAnchorableOnly
      class: Missile
      size: Small
    - type: ProjectileIFF
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: BaseWeaponTurretSwarmer
  id: BaseWeaponTurretSwarmerFilled
  suffix: ShipGun, Filled
  components:
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineSwarmer
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - SwarmRocketBox
        gun_chamber:
          name: Chamber
          startingItem: SwarmerRocketCartridge
          priority: 1
          whitelist:
            tags:
              - SwarmRocket

# DERECHO TURRET

- type: entity
  parent: BaseTurretShipgun
  id: WeaponTurretCoilgun
  suffix: ShipGun
  name: 60mm NT "Derecho" exotic blaster
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/longgun.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: WeaponTurretCoilgunCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 130
      fireRate: 2
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/needler.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 1
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: LonggunShell
      capacity: 10
      count: 10
    - type: ApcPowerReceiver
      powerLoad: 3000
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Medium
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

# MORTAR TURRET

- type: entity
  parent: BaseTurretShipgun
  id: WeaponTurretMortar
  suffix: ShipGun
  name: 90mm heavy mortar-pounder
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/heavymortar.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: WeaponTurretMortarCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 110
      fireRate: 0.6
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/artillery.ogg
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          #startingItem: MagazineMortar - on being rebuilt from destruction this gives it free ammo
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - MortarBox
        gun_chamber:
          name: Chamber
          startingItem: CartridgeMortarStandardTurret
          priority: 1
          whitelist:
            tags:
              - MortarShell
    - type: ApcPowerReceiver
      powerLoad: 2000
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Medium
    - type: MagazineAmmoProvider
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: WeaponTurretMortar
  id: WeaponTurretMortarFilled
  suffix: ShipGun, Filled
  components:
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineMortar
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - MortarBox
        gun_chamber:
          name: Chamber
          startingItem: CartridgeMortarStandardTurret
          priority: 1
          whitelist:
            tags:
              - MortarShell

# PLASMA LASER TURRET

- type: entity
  parent: BaseTurretShipgun
  id: WeaponTurretLaser
  suffix: ShipGun
  name: SHI 180c 'Torch' pressure gatling
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/plasmacannonnormal.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: WeaponTurretLaserCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 1000
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 95
      fireRate: 8
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/lasergatling.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 2
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: BulletEnergyTurretLaser
      capacity: 40
      count: 15
    - type: ApcPowerReceiver
      powerLoad: 3000
    - type: HardpointAnchorableOnly
      class: Energy
      size: Small
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

# SMARTBOMB TURRET

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretSmartbomb
  suffix: ShipGun
  name: NCWL 88mm 'Pilum' propelled mine launcher
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/smartmissile.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: BaseWeaponTurretSmartbombCircuitboard
    - type: Destructible
      thresholds:
          # TODO: Construction graph
          - trigger:
              !type:DamageTrigger
              damage: 500
            behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 14
      fireRate: 0.09
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
    - type: BallisticAmmoProvider
      #proto: SmartBomb - on being rebuilt from destruction this gives it free ammo
      whitelist:
        tags:
          - SmartBomb
      capacity: 2
    - type: HardpointAnchorableOnly
      class: Missile
      size: Small
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: BaseWeaponTurretSmartbomb
  id: BaseWeaponTurretSmartbombFilled
  suffix: ShipGun, Filled
  components:
    - type: BallisticAmmoProvider
      proto: SmartBomb
      whitelist:
        tags:
          - SmartBomb
      capacity: 2

# NEEDLER TURRET

- type: entity
  parent: BaseTurretShipgun
  id: WeaponTurretNeedler
  suffix: ShipGun
  name: 60mm PTA 'Needler' heavy precision autogun
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/needler.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: WeaponTurretNeedlerCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 130
      fireRate: 0.6
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/needler.ogg
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          #startingItem: MagazineNeedler - - on being rebuilt from destruction this gives it free ammo
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - NeedlerMag
        gun_chamber:
          name: Chamber
          startingItem: Needler
          priority: 1
          whitelist:
            tags:
              - NeedlerShell
    - type: ApcPowerReceiver
      powerLoad: 3500
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Medium
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: WeaponTurretNeedler
  id: WeaponTurretNeedlerFilled
  suffix: ShipGun, Filled
  components:
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineNeedler
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - NeedlerMag
        gun_chamber:
          name: Chamber
          startingItem: Needler
          priority: 1
          whitelist:
            tags:
              - NeedlerShell

# STATION PDT TURRET

- type: entity
  parent: BaseTurretShipgun
  id: PointNFireCannonExample
  suffix: ShipGun, CAPITAL/STATION ONLY
  name: NT MG-02 dual machinegun 20x135mm
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/lightautoturret.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: PointNFireCannonExampleCircuitboard
    - type: Damageable
      damageContainer: Inorganic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Gun
      fireOnDropChance: 0
      fireRate: 7
      projectileSpeed: 145
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/gun_sentry.ogg
    - type: BallisticAmmoProvider
      proto: PDTBulletCase
      capacity: 25000
    - type: Anchorable
      delay: 10
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Small
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

# GARGOYLE TURRET

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretGargoyle
  suffix: ShipGun
  name: heavy 'Gargoyle' LRM cruise missile launcher
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/gargoylemissile.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: BaseWeaponTurretGargoyleCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 1600
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ProjectileIFF
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 30
      fireRate: 0.4
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rocket_launcher.ogg
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 3
      #proto: TorpGarg - on being rebuilt from destruction this gives it free ammo
      whitelist:
        tags:
        - TorpedoGarg
    - type: ApcPowerReceiver
      powerLoad: 6500
    - type: HardpointAnchorableOnly
      class: Missile
      size: Large
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: BaseWeaponTurretGargoyle
  id: BaseWeaponTurretGargoyleFilled
  suffix: ShipGun, Filled
  components:
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 3
      proto: TorpGarg
      whitelist:
        tags:
        - TorpedoGarg

# LANCER TURRET

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretLancer
  suffix: ShipGun
  name: medium 'Lancer' MRM missile system
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/lancemissile.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: BaseWeaponTurretLancerCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ProjectileIFF
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 85
      fireRate: 0.9
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 15
      #proto: LanceRocketCartridge - on being rebuilt from destruction this gives it free ammo
      whitelist:
        tags:
        - LanceRocket
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: HardpointAnchorableOnly
      class: Missile
      size: Medium
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: BaseWeaponTurretLancer
  id: BaseWeaponTurretLancerFilled
  suffix: ShipGun, Filled
  components:
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 15
      proto: LanceRocketCartridge
      whitelist:
        tags:
        - LanceRocket

# HEPHAESTUS TURRET (230MM)

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretBattlemortar
  suffix: ShipGun
  name: 230mm 'Hephaeustus' assault artillery platform
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/battlemortar.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: BaseWeaponTurretBattlemortarCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 3000
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ProjectileIFF
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 130
      fireRate: 0.2
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/heph.ogg
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 3
      #proto: HeavyMortarCartridge - on being rebuilt from destruction this gives it free ammo
      whitelist:
        tags:
        - HeavyMortarShell
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Large
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: BaseWeaponTurretBattlemortar
  id: BaseWeaponTurretBattlemortarFilled
  suffix: ShipGun, Filled
  components:
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 3
      proto: HeavyMortarCartridge
      whitelist:
        tags:
        - HeavyMortarShell

# PRINCE FLAK TURRET

- type: entity
  parent: BaseTurretShipgun
  id: FlakCannonTurret
  suffix: ShipGun
  name: 88mm 'Prince' flak-screen turret
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/flak.rsi
      drawdepth: Mobs
      layers:
        - state: syndie_lethal
    - type: Machine
      board: FlakCannonTurretCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 1600
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ProjectileIFF
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 90
      fireRate: 0.8
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/needler.ogg
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          #startingItem: MagazineFlak - on being rebuilt from destruction this gives it free ammo
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - FlakBox
        gun_chamber:
          name: Chamber
          startingItem: FlakCartridge
          priority: 1
          whitelist:
            tags:
              - FlakShell
    - type: ApcPowerReceiver
      powerLoad: 6500
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Large
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: FlakCannonTurret
  id: FlakCannonTurretFilled
  suffix: ShipGun, Filled
  components:
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineFlak
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - FlakBox
        gun_chamber:
          name: Chamber
          startingItem: FlakCartridge
          priority: 1
          whitelist:
            tags:
              - FlakShell

# 323MM CATAPULT TURRET

- type: entity
  parent: BaseTurretShipgun
  id: CatapultTorpedo
  suffix: ShipGun
  name: MU91 323mm "Catapult" LRM torpedo launcher
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/catapult.rsi
      drawdepth: Mobs
      layers:
        - state: catapult
    - type: Machine
      board: CatapultTorpedoCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 1600
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ProjectileIFF
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 30
      fireRate: 0.2
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 6
      #proto: TorpCatapult - on being rebuilt from destruction this gives it free ammo
      whitelist:
        tags:
        - TorpedoCatapult
    - type: ApcPowerReceiver
      powerLoad: 6500
    - type: HardpointAnchorableOnly
      class: Missile
      size: Large
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: CatapultTorpedo
  id: CatapultTorpedoFilled
  suffix: ShipGun, Filled
  components:
    - type: BallisticAmmoProvider
      cycleable: false
      capacity: 6
      proto: TorpCatapult
      whitelist:
        tags:
        - TorpedoCatapult

# RIMWARD TURRET

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretHeavyPlasmaRimward
  suffix: ShipGun
  name: 800c "Rimward" hybrid plasma blaster
  description: A heavy laser turret combining antimatter and plasma technology.
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/atlas.rsi
      drawdepth: Mobs
      layers:
        - state: atlas
    - type: Machine
      board: BaseWeaponTurretHeavyPlasmaRimwardCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 75
      fireRate: 1.7
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/ship_friendship.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 2
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: BulletPlasmaBlaster
      capacity: 20
      count: 20
    - type: ApcPowerReceiver
      powerLoad: 3000
    - type: HardpointAnchorableOnly
      class: Energy
      size: Medium
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

# COMPAKT TURRET

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretHeavyPlasma
  suffix: ShipGun
  name: 350c "Compakt" hybrid energy gatling
  description: A versatile energy turret with interchangable lenses for varied effect.
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/lasergatling.rsi
      drawdepth: Mobs
      layers:
        - state: lasergatling
    - type: Machine
      board: BaseWeaponTurretHeavyPlasmaCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 95
      fireRate: 12
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/lasergatling.ogg
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          #startingItem: LensInfared - on being rebuilt from destruction this gives it free ammo
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - CompaktLens
    - type: ApcPowerReceiver
      powerLoad: 3000
    - type: HardpointAnchorableOnly
      class: Energy
      size: Medium
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: BaseWeaponTurretHeavyPlasma
  id: BaseWeaponTurretHeavyPlasmaFilled
  suffix: ShipGun, Filled
  components:
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: LensInfared
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - CompaktLens

# SOLARIS TURRET

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretSolaris
  suffix: ShipGun
  name: 90mm "Solaris" antimatter blaster
  description: A versatile ballistic turret that fires specialized antimatter rounds. A hybrid of machinegun and artillery.
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/solaris.rsi
      drawdepth: Mobs
      layers:
        - state: solaris
    - type: Machine
      board: BaseWeaponTurretSolarisCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 95
      fireRate: 3.5
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: _Crescent/Objects/ShuttleWeapons/ioncannon.rsi
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          #startingItem: StandardAntimatterCanister - on being rebuilt from destruction this gives it free ammo
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - AntimatterCanister
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: HardpointAnchorableOnly
      class: Energy
      size: Medium
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: BaseWeaponTurretSolaris
  id: BaseWeaponTurretSolarisFilled
  suffix: ShipGun, Filled
  components:
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: StandardAntimatterCanister
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - AntimatterCanister

# JEONG TURRET

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretJeong
  suffix: ShipGun
  name: 70mm "Jeong" swarmrocket platform
  description: A heavy, ship-mounted rocket platform that spits out a barrage of guided, small rockets.
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/jeong.rsi
      drawdepth: Mobs
      layers:
        - state: jeong
    - type: Machine
      board: BaseWeaponTurretJeongCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 60
      fireRate: 3.4
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
      angleDecay: 45
      minAngle: 5
      maxAngle: 15
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          #startingItem: SwarmrocketClip - on being rebuilt from destruction this gives it free ammo
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - SwarmerRocketsClip
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: HardpointAnchorableOnly
      class: Missile
      size: Medium
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: BaseWeaponTurretJeong
  id: BaseWeaponTurretJeongFilled
  suffix: ShipGun, Filled
  components:
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: SwarmrocketClip
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - SwarmerRocketsClip

# MAGWELL TURRET

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretMagwell
  suffix: ShipGun
  name: SHI 180mm "Magwell" torpedo launcher
  description: A small torpedo launcher that fires cheaply-manufactured, heat-seeking projectiles.
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/magwell.rsi
      drawdepth: Mobs
      layers:
      - state: base
        map: ["enum.GunVisualLayers.Base"]
      - state: mag-1
        map: ["enum.GunVisualLayers.Mag"]
    - type: Machine
      board: BaseWeaponTurretMagwellCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 30
      fireRate: 0.5
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/rpgfire.ogg
    - type: BallisticAmmoProvider
      #proto: IdnaTorpedo - on being rebuilt from destruction this gives it free ammo
      whitelist:
        tags:
          - Torpedo
      capacity: 6
      soundInsert:
        path: /Audio/Weapons/Guns/MagIn/batrifle_magin.ogg
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: HardpointAnchorableOnly
      class: Missile
      size: Small
    - type: MagazineVisuals
      magState: mag
      steps: 7
      zeroVisible: false
    - type: Appearance
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: BaseWeaponTurretMagwell
  id: BaseWeaponTurretMagwellFilled
  suffix: ShipGun, Filled
  components:
    - type: BallisticAmmoProvider
      proto: IdnaTorpedo
      whitelist:
        tags:
          - Torpedo
      capacity: 6
      soundInsert:
        path: /Audio/Weapons/Guns/MagIn/batrifle_magin.ogg

# SLUGSPITTER TURRET (SLUGTHROWER)

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretSlugspitter
  suffix: ShipGun
  name: SHI 43mm "Hullpiercer" slugspitter
  description: A low-tech alternative to the sophisticated Needler turrets. Easy to maintain, produce, and fire. Suffers from overheating issues and frequent jamming, though.
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/slugspitter.rsi
      drawdepth: Mobs
      layers:
        - state: slugspitter
    - type: Machine
      board: BaseWeaponTurretSlugspitterCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
          ents: []
    - type: Gun
      fireOnDropChance: 0
      fireRate: 2
      projectileSpeed: 80
      soundGunshot:
        path: /Audio/Weapons/Guns/Gunshots/50cal.ogg
      soundEmpty:
        path: /Audio/Weapons/Guns/Empty/lmg_empty.ogg
      angleDecay: 45
      minAngle: 5
      maxAngle: 15
    - type: MagazineAmmoProvider
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          #startingItem: MagazineLightRifleBoxSlug - on being rebuilt from destruction this gives it free ammo
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - SlugthrowerCartridgeBox
    - type: ApcPowerReceiver
      powerLoad: 4000
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Medium
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

- type: entity
  parent: BaseWeaponTurretSlugspitter
  id: BaseWeaponTurretSlugspitterFilled
  suffix: ShipGun, Filled
  components:
    - type: ItemSlots
      slots:
        gun_magazine:
          name: Magazine
          startingItem: MagazineLightRifleBoxSlug
          insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
          ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
          priority: 2
          whitelist:
            tags:
              - SlugthrowerCartridgeBox

# REGENT FLAK TURRET

- type: entity
  parent: BaseTurretShipgun
  id: FlakCannonRegent
  suffix: ShipGun
  name: NT 88mm 'Regent' flak-screen turret
  description: A flak-screen turret recovered and fabricated with Abyssal materials and designed according to old NanoTrasen schematics. Fires a trio of explosive slugs and uses surrounding trace exotic matter in space to manufacture it's own ammunition.
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/regent.rsi
      drawdepth: Mobs
      layers:
        - state: regent
    - type: Machine
      board: FlakCannonRegentCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 1600
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ProjectileIFF
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 95
      fireRate: 0.6
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/needler.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 4
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: 88mmFlakSpreadHE
      capacity: 6
      count: 10
    - type: ApcPowerReceiver
      powerLoad: 6500
    - type: HardpointAnchorableOnly
      class: Ballistic
      size: Large
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

# SNAPDRAGON TURRET

- type: entity
  parent: BaseTurretShipgun
  id: MissilePodSnapdragon
  suffix: ShipGun
  name: NT 'Snapdragon' SRM missile system
  description: A small short-range missile pod recovered and fabricated with Abyssal materials and designed according to old NanoTrasen schematics. Fires a blast of guided rockets and uses trace exotic matter in surrounding space to manufacture it's own ammunition.
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/regent.rsi
      drawdepth: Mobs
      layers:
        - state: regent
    - type: Machine
      board: MissilePodSnapdragonCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 1600
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ProjectileIFF
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 95
      fireRate: 5
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/needler.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 4
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: SwarmerRocketsGuided
      capacity: 20
      count: 10
    - type: ApcPowerReceiver
      powerLoad: 6500
    - type: HardpointAnchorableOnly
      class: Missile
      size: Small
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board

# KOMODO TURRET

- type: entity
  parent: BaseTurretShipgun
  id: BaseWeaponTurretKomodo
  suffix: ShipGun
  name: NT 400c 'Komodo' chemical blaster
  description: A small laser pulser of antiquated NanoTrasen design, commonly found mounted on droneships or found as scrap in the Abyss. Uses ancient, outdated chemical mixes to create accelerated laser pulses, which are then flung as projectiles. Luckily for you, this one seems to be sourcing it's material from inert dark matter in the void around it.
  components:
    - type: Sprite
      sprite: _Crescent/Objects/Autoturrets/komodo.rsi
      drawdepth: Mobs
      layers:
        - state: komodo
    - type: Machine
      board: BaseWeaponTurretKomodoCircuitboard
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 500
          # TODO: Construction graph
          behaviors:
            - !type:ChangeConstructionNodeBehavior
              node: machineFrame
            - !type:PlaySoundBehavior
              sound:
                collection: MetalGlassBreak
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Gun
      fireOnDropChance: 0
      projectileSpeed: 95
      fireRate: 3
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/Weapons/Guns/Gunshots/lasergatling.ogg
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 2
      rechargeSound:
        path: /Audio/Weapons/Guns/Bolt/lmg_bolt_closed.ogg
        params:
          pitch: 1.2
          variation: 0.08
    - type: BasicEntityAmmoProvider
      proto: BulletMachineGunPlasmaKomodo
      capacity: 20
      count: 10
    - type: ApcPowerReceiver
      powerLoad: 3000
    - type: HardpointAnchorableOnly
      class: Energy
      size: Small
    - type: Construction
      graph: Machine
      node: machine
      containers:
      - machine_parts
      - machine_board
